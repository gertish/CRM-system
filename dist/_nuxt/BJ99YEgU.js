import v from"./D0wBq9q7.js";import{m as f,u as C,r as y,n as g,$ as u,c as m,o as c,p as h,a as t,q as x,s as a,v as o,b as w,x as L}from"./47DChMVZ.js";import{_ as V}from"./BK3afaXz.js";import{_ as N}from"./B4Xeda-f.js";const U=""+new URL("Cover.6WyTF7fP.svg",import.meta.url).href,$="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.61667%2015.2666C3.10833%2015.2666%202.63333%2015.0916%202.29167%2014.7666C1.85833%2014.3583%201.65%2013.7416%201.725%2013.075L2.03333%2010.375C2.09167%209.86663%202.4%209.19163%202.75833%208.82496L9.6%201.58329C11.3083%20-0.225041%2013.0917%20-0.27504%2014.9%201.43329C16.7083%203.14163%2016.7583%204.92496%2015.05%206.73329L8.20833%2013.975C7.85833%2014.35%207.20833%2014.7%206.7%2014.7833L4.01667%2015.2416C3.875%2015.25%203.75%2015.2666%203.61667%2015.2666ZM12.275%201.42496C11.6333%201.42496%2011.075%201.82496%2010.5083%202.42496L3.66667%209.67496C3.5%209.84996%203.30833%2010.2666%203.275%2010.5083L2.96667%2013.2083C2.93333%2013.4833%203%2013.7083%203.15%2013.85C3.3%2013.9916%203.525%2014.0416%203.8%2014L6.48333%2013.5416C6.725%2013.5%207.125%2013.2833%207.29167%2013.1083L14.1333%205.86663C15.1667%204.76663%2015.5417%203.74996%2014.0333%202.33329C13.3667%201.69163%2012.7917%201.42496%2012.275%201.42496Z'%20fill='white'/%3e%3cpath%20d='M13.45%208.12496C13.4333%208.12496%2013.4083%208.12496%2013.3917%208.12496C10.7917%207.86663%208.7%205.89163%208.3%203.30829C8.25%202.96663%208.48333%202.64996%208.825%202.59163C9.16667%202.54163%209.48333%202.77496%209.54167%203.11663C9.85833%205.13329%2011.4917%206.68329%2013.525%206.88329C13.8667%206.91663%2014.1167%207.22496%2014.0833%207.56663C14.0417%207.88329%2013.7667%208.12496%2013.45%208.12496Z'%20fill='white'/%3e%3cpath%20d='M16.5%2017.9583H1.5C1.15833%2017.9583%200.875%2017.675%200.875%2017.3333C0.875%2016.9916%201.15833%2016.7083%201.5%2016.7083H16.5C16.8417%2016.7083%2017.125%2016.9916%2017.125%2017.3333C17.125%2017.675%2016.8417%2017.9583%2016.5%2017.9583Z'%20fill='white'/%3e%3c/svg%3e",A={class:"customer-details"},M={key:0},b={class:"customer-details__avatar"},k={class:"customer-details__avatar-edit"},D={class:"customer-details__avatar"},E=["src"],T={class:"customer-details__contact"},Z={class:"customer-details__contact-fields"},B={class:"customer-details__data-filed"},I={class:"customer-details__data-filed"},P={class:"customer-details__data-filed"},F={class:"customer-details__data-filed"},H={class:"customer-details__address-section"},R={class:"customer-details__address-group"},S={class:"address__field"},z={class:"address__field"},q={class:"address__field"},W={class:"address__field"},j={class:"recent-deals"},G={class:"recent-deals__header"},tt=f({__name:"[id]",setup(J){const n=C().params.id,s=y(null);g(async()=>{try{const d=await u(`/api/customers/${n}`);s.value=d}catch(d){console.log("Ошибка при загрузке клиента:",d)}});const p=async d=>{var l;const e=(l=d.target.files)==null?void 0:l[0];if(!e)return;const i=new FormData;i.append("avatar",e);try{const r=await u(`/api/customers/${n}`,{method:"PATCH",body:i});s.value=r}catch(r){console.log("Ошибка при обновлении аватара:",r)}},_=async()=>{if(confirm("Вы действительно хотите удалить этого клиента"))try{await u(`/api/customers/${n}`,{method:"DELETE"}),L("/customers/customers")}catch(e){console.log("Ошибка при удалении заказчика:",e)}};return(d,e)=>{const i=v;return c(),m("div",A,[s.value?(c(),m("div",M,[t("div",b,[e[10]||(e[10]=t("div",{class:"customer-details__avatar-image"},[t("img",{src:U,alt:""})],-1)),t("div",k,[t("div",D,[t("img",{src:s.value.avatar||x(N),alt:""},null,8,E)]),t("div",{class:"customer-details__edit",onClick:p},e[8]||(e[8]=[t("input",{type:"file",id:"avatarInput",accept:"image/*"},null,-1),t("label",{for:"avatarInput"},[t("img",{src:$,alt:""})],-1)]))]),t("div",{class:"customer-details__avatar-delete",onClick:_},e[9]||(e[9]=[t("img",{src:V,alt:""},null,-1)]))]),t("div",T,[t("div",Z,[t("div",B,[e[11]||(e[11]=t("h4",null,"First Name",-1)),a(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>s.value.firstName=l)},null,512),[[o,s.value.firstName]])]),t("div",I,[e[12]||(e[12]=t("h4",null,"Last Name",-1)),a(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=l=>s.value.lastName=l)},null,512),[[o,s.value.lastName]])]),t("div",P,[e[13]||(e[13]=t("h4",null,"Email",-1)),a(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>s.value.email=l)},null,512),[[o,s.value.email]])]),t("div",F,[e[14]||(e[14]=t("h4",null,"Phone",-1)),a(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=l=>s.value.phone=l)},null,512),[[o,s.value.phone]])])]),t("div",H,[e[15]||(e[15]=t("h4",null,"Address",-1)),t("div",R,[t("div",S,[a(t("input",{type:"text",placeholder:"Street Address","onUpdate:modelValue":e[4]||(e[4]=l=>s.value.streetAddress=l)},null,512),[[o,s.value.streetAddress]])]),t("div",z,[a(t("input",{type:"text",placeholder:"City","onUpdate:modelValue":e[5]||(e[5]=l=>s.value.city=l)},null,512),[[o,s.value.city]])]),t("div",q,[a(t("input",{type:"text",placeholder:"State / Province","onUpdate:modelValue":e[6]||(e[6]=l=>s.value.state=l)},null,512),[[o,s.value.state]])]),t("div",W,[a(t("input",{type:"text",placeholder:"Zip Code","onUpdate:modelValue":e[7]||(e[7]=l=>s.value.zipCode=l)},null,512),[[o,s.value.zipCode]])])])])])])):h("",!0),t("div",j,[t("div",G,[e[16]||(e[16]=t("h3",null,"Recent Deals",-1)),t("button",null,[w(i,{class:"plus",name:"material-symbols:add-rounded"})])]),e[17]||(e[17]=t("div",{class:"recent-deals__content"},null,-1))])])}}});export{tt as default};
